/* eslint-env mocha */
const assert = require('assert')

const Eos = require('./src')

describe('./test', async function() {
  it('tic.tac.toe', async function() {
    const keyProvider = [
      // '5JCMLHSyJcx6mUCfJpvVod8WMAycq8v3bewrJbvzhp5nhfiVYsk',
      // '5JGByospJ5mUkameanYCwLzeYW9QUKLvu8Qvr3PTnj3LV35oXA8',
      '5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3',
      // '5JMJebgWSzY9aU7SRKk7r9J1r8znkUSdUA5kUNUtzUZnVwjFn7V'
    ]
    eos = Eos.Localnet({keyProvider})

    const game = await eos.contract('tic.tac.toe')

    game.create()

    const create = await game.create(//'inita', 'initb',
      {challenger: 'inita', host: 'initb'},
      {
        broadcast: true,
        scope: ['inita', 'initb'],
        authorization: ['initb@active']
      }
    )

    console.log('create =', JSON.stringify(create))

    // const close = await t.close('inita', 'initb', {broadcast: true, authorization: ['inita@active', 'initb@active']})


  })
})
